/*******************************************************************************
 * Educational Online Test Delivery System 
 * Copyright (c) 2014 American Institutes for Research
 *   
 * Distributed under the AIR Open Source License, Version 1.0 
 * See accompanying file AIR-License-1_0.txt or at
 * http://www.smarterapp.org/documents/American_Institutes_for_Research_Open_Source_Software_License.pdf
 ******************************************************************************/
package org.opentestsystem.shared.test.api;

/**
 * Implement this interface to force test data to be reloaded rather than simply rolled back.
 * 
 * By default, {@link org.opentestsystem.unittest.db.DBDataDeployerImpl} and {@link org.opentestsystem.unittest.db.DBSchemaDeployerImpl}
 * will inspect all instances of this interface in the Spring context. If any of those instances return
 * {@code isDataCorrupt() == true}, then the data will be reloaded. It is possible to explicitly wire
 * a subset of DBDataCorruptionReporter instances to control a particular data or schema deployment.
 * 
 * @author temp_dmenes
 */
public interface DBDataCorruptionReporter
{
  /**
   * Has something made changes to the data, such as DDL statements, that cannot be reversed by
   * calling connection.rollback()
   * 
   * @return true if data must be reloaded rather than rolled back.
   */
  boolean isDataCorrupt();
}
